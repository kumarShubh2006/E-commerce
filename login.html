<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="style2.css">

  <script>

    // ------------ LOGIN VALIDATION --------------
    function validate(form) {
      let username = form.user.value;
      let password = form.pass.value;

      if (username === "Shubham" && password === "Shubham") {
        sessionStorage.setItem("loginUser", username);
        alert("Success");
        window.location.href = "index1.html";   // redirect after login
        return false; // prevent default form submission
      } else {
        alert("Invalid username or password");
        return false;
      }
    }

    // ------------ AUTO LOGOUT AFTER INACTIVITY --------------    
    let inactivityTime = 60000; // 1 minute = 60000ms (change as needed)

    let activityTimer;

    function resetTimer() {
      clearTimeout(activityTimer);
      activityTimer = setTimeout(logoutUser, inactivityTime);
    }

    function logoutUser() {
      alert("Logged out due to inactivity.");
      sessionStorage.removeItem("loginUser");
      window.location.href = "login.html";   // redirect back to login page
    }

    // Track user activity
    window.onload = resetTimer;
    document.onmousemove = resetTimer;
    document.onkeydown = resetTimer;

  </script>
</head>

<body>

  <div class="parent">
    <div class="login-container">
      <div class="login">

        <form name="form1" onsubmit="return validate(this)">
          <h1>User Login</h1><br>

          <strong>Username:</strong>
          <input type="text" name="user" required><br><br>

          <strong>Password:</strong>
          <input type="password" name="pass" required><br><br>

          <button type="submit">Submit</button>
        </form>

        <br>
        <span>New to My Shop? <a href="Signup.html">Sign up</a></span>

      </div>
    </div>
  </div>

</body>

</html>